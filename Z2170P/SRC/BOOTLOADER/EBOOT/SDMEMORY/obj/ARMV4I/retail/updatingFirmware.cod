; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\BOOTLOADER\EBOOT\updatingFirmware.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.data|, DATA
	 COMMON	|g_total|, 0x4

	 COMMON	|g_value|, 0x190


  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
	EXPORT	|I2C_Clk_FW|
	IMPORT	|GPIOClrBit|
	IMPORT	|LcdStall|
	IMPORT	|GPIOSetBit|
; File c:\wince600\platform\z2170p\src\bootloader\eboot\updatingfirmware.c

  00000			 AREA	 |.pdata|, PDATA
|$T46945| DCD	|$LN5@I2C_Clk_FW|
	DCD	0x40000b01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_Clk_FW| PROC

; 16   : {

  00000		 |$LN5@I2C_Clk_FW|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M46942|
  00004	e1a04000	 mov         r4, r0

; 17   :     GPIOSetBit(hGPIO_I2C, I2C3_SCL_GPIO);  

  00008	e3a010b8	 mov         r1, #0xB8
  0000c	eb000000	 bl          GPIOSetBit

; 18   :     LcdStall(50);

  00010	e3a00032	 mov         r0, #0x32
  00014	eb000000	 bl          LcdStall

; 19   :     GPIOClrBit(hGPIO_I2C, I2C3_SCL_GPIO); 

  00018	e3a010b8	 mov         r1, #0xB8
  0001c	e1a00004	 mov         r0, r4
  00020	eb000000	 bl          GPIOClrBit

; 20   :     
; 21   : }

  00024	e8bd4010	 ldmia       sp!, {r4, lr}
  00028	e12fff1e	 bx          lr
  0002c		 |$M46943|

			 ENDP  ; |I2C_Clk_FW|

	EXPORT	|I2C_ACKnowledge_FW|
	IMPORT	|GPIOGetBit|
	IMPORT	|GPIOSetMode|

  00000			 AREA	 |.pdata|, PDATA
|$T46953| DCD	|$LN5@I2C_ACKnow|
	DCD	0x40001e01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_ACKnowledge_FW| PROC

; 25   : {

  00000		 |$LN5@I2C_ACKnow|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M46950|
  00004	e1a04000	 mov         r4, r0

; 26   :     //GPIOSetBit(hGPIO_I2C, I2C3_SDA_GPIO);
; 27   :     //LcdStall(1);
; 28   :     GPIOSetMode(hGPIO_I2C, I2C3_SDA_GPIO, GPIO_DIR_INPUT);      //Get slave a ACK value for SDA line  

  00008	e3a02001	 mov         r2, #1
  0000c	e3a010b9	 mov         r1, #0xB9
  00010	eb000000	 bl          GPIOSetMode

; 29   :     LcdStall(1);                                             

  00014	e3a00001	 mov         r0, #1
  00018	eb000000	 bl          LcdStall

; 30   :     GPIOSetBit(hGPIO_I2C, I2C3_SCL_GPIO);

  0001c	e3a010b8	 mov         r1, #0xB8
  00020	e1a00004	 mov         r0, r4
  00024	eb000000	 bl          GPIOSetBit

; 31   :     LcdStall(50);

  00028	e3a00032	 mov         r0, #0x32
  0002c	eb000000	 bl          LcdStall

; 32   :     GPIOGetBit(hGPIO_I2C, I2C3_SDA_GPIO); 

  00030	e3a010b9	 mov         r1, #0xB9
  00034	e1a00004	 mov         r0, r4
  00038	eb000000	 bl          GPIOGetBit

; 33   :     LcdStall(50);

  0003c	e3a00032	 mov         r0, #0x32
  00040	eb000000	 bl          LcdStall

; 34   :         
; 35   :     GPIOSetMode(hGPIO_I2C, I2C3_SDA_GPIO, GPIO_DIR_OUTPUT); 

  00044	e3a02000	 mov         r2, #0
  00048	e3a010b9	 mov         r1, #0xB9
  0004c	e1a00004	 mov         r0, r4
  00050	eb000000	 bl          GPIOSetMode

; 36   :     LcdStall(1);

  00054	e3a00001	 mov         r0, #1
  00058	eb000000	 bl          LcdStall

; 37   :     GPIOClrBit(hGPIO_I2C, I2C3_SCL_GPIO);   

  0005c	e3a010b8	 mov         r1, #0xB8
  00060	e1a00004	 mov         r0, r4
  00064	eb000000	 bl          GPIOClrBit

; 38   :     LcdStall(50);

  00068	e3a00032	 mov         r0, #0x32
  0006c	eb000000	 bl          LcdStall

; 39   :     //GPIOClrBit(hGPIO_I2C, I2C3_SDA_GPIO);
; 40   :     //LcdStall(1);
; 41   : }

  00070	e8bd4010	 ldmia       sp!, {r4, lr}
  00074	e12fff1e	 bx          lr
  00078		 |$M46951|

			 ENDP  ; |I2C_ACKnowledge_FW|

	EXPORT	|I2C_WRITE_FW|

  00000			 AREA	 |.pdata|, PDATA
|$T46972| DCD	|$LN17@I2C_WRITE_|
	DCD	0x40001a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_WRITE_FW| PROC

; 45   : {

  00000		 |$LN17@I2C_WRITE_|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M46969|
  00004	e1a06001	 mov         r6, r1
  00008	e1a05000	 mov         r5, r0

; 46   :     int i;
; 47   :     for(i=7; i>=0; i--)

  0000c	e3a04007	 mov         r4, #7
  00010	e3a07001	 mov         r7, #1
  00014		 |$LL5@I2C_WRITE_|

; 48   :     {
; 49   :         if( data&(1<<i) ){

  00014	e1160417	 tst         r6, r7, lsl r4

; 50   :             GPIOSetBit(hGPIO_I2C, I2C3_SDA_GPIO);  

  00018	e3a010b9	 mov         r1, #0xB9
  0001c	e1a00005	 mov         r0, r5
  00020	0a000001	 beq         |$LN2@I2C_WRITE_|
  00024	eb000000	 bl          GPIOSetBit

; 51   :             LcdStall(50);
; 52   :             I2C_Clk_FW(hGPIO_I2C);
; 53   :         }else{

  00028	ea000000	 b           |$LN14@I2C_WRITE_|
  0002c		 |$LN2@I2C_WRITE_|

; 54   :             GPIOClrBit(hGPIO_I2C, I2C3_SDA_GPIO);   

  0002c	eb000000	 bl          GPIOClrBit
  00030		 |$LN14@I2C_WRITE_|

; 55   :             LcdStall(50);

  00030	e3a00032	 mov         r0, #0x32
  00034	eb000000	 bl          LcdStall

; 56   :             I2C_Clk_FW(hGPIO_I2C);

  00038	e3a010b8	 mov         r1, #0xB8
  0003c	e1a00005	 mov         r0, r5
  00040	eb000000	 bl          GPIOSetBit
  00044	e3a00032	 mov         r0, #0x32
  00048	eb000000	 bl          LcdStall
  0004c	e3a010b8	 mov         r1, #0xB8
  00050	e1a00005	 mov         r0, r5
  00054	eb000000	 bl          GPIOClrBit
  00058	e2544001	 subs        r4, r4, #1
  0005c	5affffec	 bpl         |$LL5@I2C_WRITE_|

; 57   :         }
; 58   :     }           
; 59   : }

  00060	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00064	e12fff1e	 bx          lr
  00068		 |$M46970|

			 ENDP  ; |I2C_WRITE_FW|

	EXPORT	|I2C_setSlaveAddress_FW|

  00000			 AREA	 |.pdata|, PDATA
|$T46991| DCD	|$LN17@I2C_setSla|
	DCD	0x40001a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_setSlaveAddress_FW| PROC

; 63   : {    

  00000		 |$LN17@I2C_setSla|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M46988|
  00004	e1a06001	 mov         r6, r1
  00008	e1a05000	 mov         r5, r0

; 64   :     int i;  
; 65   :     for(i=7; i >=0; i--)

  0000c	e3a04007	 mov         r4, #7
  00010	e3a07001	 mov         r7, #1
  00014		 |$LL5@I2C_setSla|

; 66   :     {         
; 67   :         if( addr&(1<<i) ){

  00014	e1160417	 tst         r6, r7, lsl r4

; 68   :             GPIOSetBit(hGPIO_I2C, I2C3_SDA_GPIO);  

  00018	e3a010b9	 mov         r1, #0xB9
  0001c	e1a00005	 mov         r0, r5
  00020	0a000001	 beq         |$LN2@I2C_setSla|
  00024	eb000000	 bl          GPIOSetBit

; 69   :             LcdStall(50);
; 70   :             I2C_Clk_FW(hGPIO_I2C);
; 71   :         }else{

  00028	ea000000	 b           |$LN14@I2C_setSla|
  0002c		 |$LN2@I2C_setSla|

; 72   :             GPIOClrBit(hGPIO_I2C, I2C3_SDA_GPIO);   

  0002c	eb000000	 bl          GPIOClrBit
  00030		 |$LN14@I2C_setSla|

; 73   :             LcdStall(50);

  00030	e3a00032	 mov         r0, #0x32
  00034	eb000000	 bl          LcdStall

; 74   :             I2C_Clk_FW(hGPIO_I2C);

  00038	e3a010b8	 mov         r1, #0xB8
  0003c	e1a00005	 mov         r0, r5
  00040	eb000000	 bl          GPIOSetBit
  00044	e3a00032	 mov         r0, #0x32
  00048	eb000000	 bl          LcdStall
  0004c	e3a010b8	 mov         r1, #0xB8
  00050	e1a00005	 mov         r0, r5
  00054	eb000000	 bl          GPIOClrBit
  00058	e2544001	 subs        r4, r4, #1
  0005c	5affffec	 bpl         |$LL5@I2C_setSla|

; 75   :         }
; 76   :     } 
; 77   : }

  00060	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00064	e12fff1e	 bx          lr
  00068		 |$M46989|

			 ENDP  ; |I2C_setSlaveAddress_FW|

	EXPORT	|I2C_START_FW|

  00000			 AREA	 |.pdata|, PDATA
|$T46999| DCD	|$LN5@I2C_START_|
	DCD	0x40001701
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_START_FW| PROC

; 81   : {

  00000		 |$LN5@I2C_START_|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M46996|
  00004	e1a04000	 mov         r4, r0

; 82   :     GPIOSetBit(hGPIO_I2C, I2C3_SDA_GPIO);   //S1, SDA = High

  00008	e3a010b9	 mov         r1, #0xB9
  0000c	eb000000	 bl          GPIOSetBit

; 83   :     LcdStall(1);                          

  00010	e3a00001	 mov         r0, #1
  00014	eb000000	 bl          LcdStall

; 84   :     GPIOSetBit(hGPIO_I2C, I2C3_SCL_GPIO);   //S2, SCL = High ; kept high   

  00018	e3a010b8	 mov         r1, #0xB8
  0001c	e1a00004	 mov         r0, r4
  00020	eb000000	 bl          GPIOSetBit

; 85   :     LcdStall(100);

  00024	e3a00064	 mov         r0, #0x64
  00028	eb000000	 bl          LcdStall

; 86   :     
; 87   :     GPIOClrBit(hGPIO_I2C, I2C3_SDA_GPIO);   //S3, When SDA changes High -> Low , start bit generating

  0002c	e3a010b9	 mov         r1, #0xB9
  00030	e1a00004	 mov         r0, r4
  00034	eb000000	 bl          GPIOClrBit

; 88   :     LcdStall(10);                           

  00038	e3a0000a	 mov         r0, #0xA
  0003c	eb000000	 bl          LcdStall

; 89   :     GPIOClrBit(hGPIO_I2C, I2C3_SCL_GPIO);   //S4, SCL = Low 

  00040	e3a010b8	 mov         r1, #0xB8
  00044	e1a00004	 mov         r0, r4
  00048	eb000000	 bl          GPIOClrBit

; 90   :     LcdStall(50);                          

  0004c	e3a00032	 mov         r0, #0x32
  00050	eb000000	 bl          LcdStall

; 91   : }

  00054	e8bd4010	 ldmia       sp!, {r4, lr}
  00058	e12fff1e	 bx          lr
  0005c		 |$M46997|

			 ENDP  ; |I2C_START_FW|

	EXPORT	|I2C_STOP_FW|

  00000			 AREA	 |.pdata|, PDATA
|$T47007| DCD	|$LN5@I2C_STOP_F|
	DCD	0x40001201
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |I2C_STOP_FW| PROC

; 95   : {   

  00000		 |$LN5@I2C_STOP_F|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M47004|
  00004	e1a04000	 mov         r4, r0

; 96   :     GPIOClrBit(hGPIO_I2C, I2C3_SDA_GPIO);   //P1

  00008	e3a010b9	 mov         r1, #0xB9
  0000c	eb000000	 bl          GPIOClrBit

; 97   :     LcdStall(50);

  00010	e3a00032	 mov         r0, #0x32
  00014	eb000000	 bl          LcdStall

; 98   :     GPIOSetBit(hGPIO_I2C, I2C3_SCL_GPIO);   //P2

  00018	e3a010b8	 mov         r1, #0xB8
  0001c	e1a00004	 mov         r0, r4
  00020	eb000000	 bl          GPIOSetBit

; 99   :     LcdStall(50);

  00024	e3a00032	 mov         r0, #0x32
  00028	eb000000	 bl          LcdStall

; 100  :     GPIOSetBit(hGPIO_I2C, I2C3_SDA_GPIO);   //P3

  0002c	e3a010b9	 mov         r1, #0xB9
  00030	e1a00004	 mov         r0, r4
  00034	eb000000	 bl          GPIOSetBit

; 101  :     LcdStall(50);    

  00038	e3a00032	 mov         r0, #0x32
  0003c	eb000000	 bl          LcdStall

; 102  : }

  00040	e8bd4010	 ldmia       sp!, {r4, lr}
  00044	e12fff1e	 bx          lr
  00048		 |$M47005|

			 ENDP  ; |I2C_STOP_FW|

	EXPORT	|InitI2CWithBQ27510FW|

  00000			 AREA	 |.pdata|, PDATA
|$T47021| DCD	|$LN22@InitI2CWit|
	DCD	0x40004f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |InitI2CWithBQ27510FW| PROC

; 109  : {    

  00000		 |$LN22@InitI2CWit|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M47018|
  00004	e1a04000	 mov         r4, r0

; 110  :     int i, waitCMD;
; 111  :     UNREFERENCED_PARAMETER(hGPIO_I2C);    
; 112  :     
; 113  :     if( 0x20A == (*(g_value+0)) ){      //Equal "Write Command"

  00008	e59f5128	 ldr         r5, [pc, #0x128]
  0000c	e3a03c02	 mov         r3, #2, 24
  00010	e383300a	 orr         r3, r3, #0xA
  00014	e5952000	 ldr         r2, [r5]
  00018	e59f7114	 ldr         r7, [pc, #0x114]
  0001c	e1520003	 cmp         r2, r3
  00020	1a00001b	 bne         |$LN13@InitI2CWit|

; 114  :         I2C_START_FW(hGPIO_I2C);        

  00024	eb000000	 bl          I2C_START_FW

; 115  :         for(i=1;i<=g_total;i++){

  00028	e5973000	 ldr         r3, [r7]
  0002c	e3a06001	 mov         r6, #1
  00030	e3530001	 cmp         r3, #1
  00034	ba000011	 blt         |$LN10@InitI2CWit|
  00038		 |$LL12@InitI2CWit|

; 116  :             if(i==1){ 

  00038	e3560001	 cmp         r6, #1

; 117  :                 I2C_setSlaveAddress_FW(hGPIO_I2C, g_value[i]);

  0003c	e1a00004	 mov         r0, r4
  00040	1a000002	 bne         |$LN9@InitI2CWit|
  00044	e5951004	 ldr         r1, [r5, #4]
  00048	eb000000	 bl          I2C_setSlaveAddress_FW

; 118  :                 //I2C_setSlaveAddress_FW(hGPIO_I2C, 0XAA);
; 119  :                 //OALLog(L"setSlaveAddress:%#02X ", g_value[i]);
; 120  :             }else{

  0004c	ea000001	 b           |$LN8@InitI2CWit|
  00050		 |$LN9@InitI2CWit|

; 121  :                 I2C_WRITE_FW(hGPIO_I2C, g_value[i]);    

  00050	e7951106	 ldr         r1, [r5, +r6, lsl #2]
  00054	eb000000	 bl          I2C_WRITE_FW
  00058		 |$LN8@InitI2CWit|

; 122  :                 //OALLog(L"Write:%#02X ", g_value[i]);
; 123  :             }
; 124  : 
; 125  :             LcdStall(100);    

  00058	e3a00064	 mov         r0, #0x64
  0005c	eb000000	 bl          LcdStall

; 126  :             I2C_ACKnowledge_FW(hGPIO_I2C);              //OALLog(L"ACKnowledge\r\n");                 

  00060	e1a00004	 mov         r0, r4
  00064	eb000000	 bl          I2C_ACKnowledge_FW

; 127  :             LcdStall(180);

  00068	e3a000b4	 mov         r0, #0xB4
  0006c	eb000000	 bl          LcdStall
  00070	e5973000	 ldr         r3, [r7]
  00074	e2866001	 add         r6, r6, #1
  00078	e1560003	 cmp         r6, r3
  0007c	daffffed	 ble         |$LL12@InitI2CWit|
  00080		 |$LN10@InitI2CWit|

; 128  :          } 
; 129  :          //LcdStall(250);
; 130  :          I2C_STOP_FW(hGPIO_I2C);

  00080	e1a00004	 mov         r0, r4
  00084	eb000000	 bl          I2C_STOP_FW

; 131  :          /*GPIOClrBit(hGPIO_I2C,  I2C3_SDA_GPIO);
; 132  :          LcdStall(1);
; 133  :          GPIOClrBit(hGPIO_I2C,  I2C3_SCL_GPIO);
; 134  :          LcdStall(1);*/
; 135  :          LcdStall(2000);

  00088	e3a00e7d	 mov         r0, #0x7D, 28
  0008c	eb000000	 bl          LcdStall
  00090	e5952000	 ldr         r2, [r5]
  00094		 |$LN13@InitI2CWit|

; 136  :     }
; 137  : 
; 138  :     if( 0xCA == (*(g_value+0))){    //Equal "Read and Compare Command", How to send data??

  00094	e35200ca	 cmp         r2, #0xCA
  00098	1a00001c	 bne         |$LN7@InitI2CWit|

; 139  :         I2C_START_FW(hGPIO_I2C);

  0009c	e1a00004	 mov         r0, r4
  000a0	eb000000	 bl          I2C_START_FW

; 140  :         for(i=1;i<=g_total;i++){

  000a4	e5973000	 ldr         r3, [r7]
  000a8	e3a06001	 mov         r6, #1
  000ac	e3530001	 cmp         r3, #1
  000b0	ba000011	 blt         |$LN4@InitI2CWit|
  000b4		 |$LL6@InitI2CWit|

; 141  :             if(i==1)

  000b4	e3560001	 cmp         r6, #1

; 142  :                 I2C_setSlaveAddress_FW(hGPIO_I2C, g_value[i]);

  000b8	e1a00004	 mov         r0, r4
  000bc	1a000002	 bne         |$LN3@InitI2CWit|
  000c0	e5951004	 ldr         r1, [r5, #4]
  000c4	eb000000	 bl          I2C_setSlaveAddress_FW

; 143  :             else

  000c8	ea000001	 b           |$LN2@InitI2CWit|
  000cc		 |$LN3@InitI2CWit|

; 144  :                 I2C_WRITE_FW(hGPIO_I2C, g_value[i]);

  000cc	e7951106	 ldr         r1, [r5, +r6, lsl #2]
  000d0	eb000000	 bl          I2C_WRITE_FW
  000d4		 |$LN2@InitI2CWit|

; 145  : 
; 146  :             LcdStall(100); 

  000d4	e3a00064	 mov         r0, #0x64
  000d8	eb000000	 bl          LcdStall

; 147  :             I2C_ACKnowledge_FW(hGPIO_I2C);

  000dc	e1a00004	 mov         r0, r4
  000e0	eb000000	 bl          I2C_ACKnowledge_FW

; 148  :             LcdStall(200);

  000e4	e3a000c8	 mov         r0, #0xC8
  000e8	eb000000	 bl          LcdStall
  000ec	e5973000	 ldr         r3, [r7]
  000f0	e2866001	 add         r6, r6, #1
  000f4	e1560003	 cmp         r6, r3
  000f8	daffffed	 ble         |$LL6@InitI2CWit|
  000fc		 |$LN4@InitI2CWit|

; 149  :         }
; 150  :         //LcdStall(250);
; 151  :         I2C_STOP_FW(hGPIO_I2C);

  000fc	e1a00004	 mov         r0, r4
  00100	eb000000	 bl          I2C_STOP_FW

; 152  :         /*GPIOClrBit(hGPIO_I2C,  I2C3_SDA_GPIO);
; 153  :         LcdStall(1);
; 154  :         GPIOClrBit(hGPIO_I2C,  I2C3_SCL_GPIO);
; 155  :         LcdStall(1);*/
; 156  :         LcdStall(2000);

  00104	e3a00e7d	 mov         r0, #0x7D, 28
  00108	eb000000	 bl          LcdStall
  0010c	e5952000	 ldr         r2, [r5]
  00110		 |$LN7@InitI2CWit|
  00110	e3a03c02	 mov         r3, #2, 24

; 157  :         //OALLog(L"C:¡Vindicates that the row is a command to read and compare one or more bytes of data.\r\n");
; 158  :     }
; 159  :     
; 160  :     if( 0x21A == (*(g_value+0))){       //Equal "Wait command"

  00114	e383301a	 orr         r3, r3, #0x1A
  00118	e1520003	 cmp         r2, r3

; 161  :         waitCMD = g_value[1];
; 162  :         //OALLog(L"WaitCMD:%d, %dus \r\n",waitCMD, waitCMD*2000);
; 163  :         LcdStall(waitCMD*2000);   //Because 1us at oscilloscpoe are 0.8us(1.25x), So value must be greater than 1.25=> waitCMD*1.25*ms        

  0011c	05953004	 ldreq       r3, [r5, #4]
  00120	03a02e7d	 moveq       r2, #0x7D, 28
  00124	00000293	 muleq       r0, r3, r2
  00128	0b000000	 bleq        LcdStall

; 164  :     }
; 165  : }

  0012c	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00130	e12fff1e	 bx          lr
  00134		 |$LN23@InitI2CWit|
  00134		 |$LN24@InitI2CWit|
  00134	00000000	 DCD         |g_total|
  00138		 |$LN25@InitI2CWit|
  00138	00000000	 DCD         |g_value|
  0013c		 |$M47019|

			 ENDP  ; |InitI2CWithBQ27510FW|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|UpdatingGaugeFW|
	EXPORT	|??_C@_1DC@HKGEDAHN@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAe?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?5?$AAO?$AAK?$AA?$CB?$AA?$CB?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CG@HLIGJHI@?$AAI?$AAt?$AA?5?$AAi?$AAs?$AA?5?$AAn?$AAo?$AAt?$AA?5?$AAr?$AAa?$AAn?$AAg?$AAe?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BK@PNAHHDKC@?$AAB?$AAQ?$AA2?$AA7?$AA5?$AAx?$AAF?$AAW?$AA?4?$AAt?$AAx?$AAt?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@GBHIDOHO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAB?$AAQ?$AA2?$AA7?$AA5?$AA1?$AA0?$AA_?$AAi?$AAn?$AAi?$AAt?$AA?5?$AA?9?$AA?5?$AAO?$AAp?$AAe?$AAn?$AA?5?$AAI?$AA2?$AAC?$AA?5?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@JOLFNFNF@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAF?$AAu?$AAe?$AAl?$AA?5?$AAG?$AAa?$AAu?$AAg?$AAe?$AA?5?$AAF?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@FGMOGA@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?4?$AA?4?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|GPIOClose|
	IMPORT	|BLSDCardReadData|
	IMPORT	|BLSDCardDownload|
	IMPORT	|GPIOOpen|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|OALBLMenuHeader|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|__security_cookie|
	IMPORT	|__security_check_cookie|

  00000			 AREA	 |.pdata|, PDATA
|$T47059| DCD	|$LN60@UpdatingGa|
	DCD	0xc000a502

  00000			 AREA	 |.xdata|, DATA
|$T47055| DCD	0xffffffd8

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@HKGEDAHN@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAe?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?5?$AAO?$AAK?$AA?$CB?$AA?$CB?$AA?$AA@| DCB "U"
	DCB	0x0, "p", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "r", 0x0, "m", 0x0, "w", 0x0, "a", 0x0, "r", 0x0, "e"
	DCB	0x0, " ", 0x0, "O", 0x0, "K", 0x0, "!", 0x0, "!", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CG@HLIGJHI@?$AAI?$AAt?$AA?5?$AAi?$AAs?$AA?5?$AAn?$AAo?$AAt?$AA?5?$AAr?$AAa?$AAn?$AAg?$AAe?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| DCB "I"
	DCB	0x0, "t", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "n"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "r", 0x0, "a", 0x0, "n"
	DCB	0x0, "g", 0x0, "e", 0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BK@PNAHHDKC@?$AAB?$AAQ?$AA2?$AA7?$AA5?$AAx?$AAF?$AAW?$AA?4?$AAt?$AAx?$AAt?$AA?$AA@| DCB "B"
	DCB	0x0, "Q", 0x0, "2", 0x0, "7", 0x0, "5", 0x0, "x", 0x0, "F"
	DCB	0x0, "W", 0x0, ".", 0x0, "t", 0x0, "x", 0x0, "t", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@GBHIDOHO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAB?$AAQ?$AA2?$AA7?$AA5?$AA1?$AA0?$AA_?$AAi?$AAn?$AAi?$AAt?$AA?5?$AA?9?$AA?5?$AAO?$AAp?$AAe?$AAn?$AA?5?$AAI?$AA2?$AAC?$AA?5?$AAd@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "B", 0x0, "Q", 0x0, "2", 0x0, "7", 0x0, "5", 0x0, "1"
	DCB	0x0, "0", 0x0, "_", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, " ", 0x0, "-", 0x0, " ", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, " ", 0x0, "I", 0x0, "2", 0x0, "C", 0x0, " "
	DCB	0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, "!", 0x0, "!", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@JOLFNFNF@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAF?$AAu?$AAe?$AAl?$AA?5?$AAG?$AAa?$AAu?$AAg?$AAe?$AA?5?$AAF?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?$AA@| DCB "U"
	DCB	0x0, "p", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "F", 0x0, "u", 0x0, "e", 0x0, "l"
	DCB	0x0, " ", 0x0, "G", 0x0, "a", 0x0, "u", 0x0, "g", 0x0, "e"
	DCB	0x0, " ", 0x0, "F", 0x0, "i", 0x0, "r", 0x0, "m", 0x0, "w"
	DCB	0x0, "a", 0x0, "r", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@FGMOGA@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?4?$AA?4?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| DCB "U"
	DCB	0x0, "p", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, " "
	DCB	0x0, "f", 0x0, "i", 0x0, "r", 0x0, "m", 0x0, "w", 0x0, "a"
	DCB	0x0, "r", 0x0, "e", 0x0, ".", 0x0, ".", 0x0, ".", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T47055|

  00008		 |UpdatingGaugeFW| PROC

; 169  : {

  00008		 |$LN60@UpdatingGa|
  00008	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  0000c	e24dd014	 sub         sp, sp, #0x14
  00010		 |$M47056|
  00010	e59f3280	 ldr         r3, [pc, #0x280]
  00014	e5933000	 ldr         r3, [r3]
  00018	e58d3010	 str         r3, [sp, #0x10]

; 170  :     ULONG rc = (ULONG) BL_ERROR;
; 171  :     char ch;
; 172  :     char str[10];
; 173  :     int  size = 0, j, count = 0;
; 174  :     int  temp, byte=0;
; 175  :     HANDLE hGPIO_I2C;
; 176  :     
; 177  :     OALBLMenuHeader(L"Updating Fuel Gauge Firmware");

  0001c	e59f0270	 ldr         r0, [pc, #0x270]
  00020	e3a04000	 mov         r4, #0
  00024	e3a08000	 mov         r8, #0
  00028	e3a05000	 mov         r5, #0
  0002c	eb000000	 bl          OALBLMenuHeader

; 178  :     UNREFERENCED_PARAMETER(pMenu);
; 179  :     OALLog(L"Updating the firmware...\r\n");

  00030	e59f0258	 ldr         r0, [pc, #0x258]
  00034	eb000000	 bl          NKDbgPrintfW

; 180  :     if((hGPIO_I2C = GPIOOpen()) == NULL) 

  00038	eb000000	 bl          GPIOOpen
  0003c	e1b07000	 movs        r7, r0
  00040	1a000002	 bne         |$LN45@UpdatingGa|

; 181  : 	{
; 182  :         RETAILMSG(1,(L"ERROR: BQ27510_init - Open I2C device Failed!!\r\n"));

  00044	e59f0240	 ldr         r0, [pc, #0x240]
  00048	eb000000	 bl          NKDbgPrintfW

; 183  :         goto I2COpenFailed;

  0004c	ea000084	 b           |$I2COpenFailed$46844|
  00050		 |$LN45@UpdatingGa|

; 184  : 	}
; 185  : 	
; 186  :     GPIOClrBit(hGPIO_I2C,  184);  

  00050	e3a010b8	 mov         r1, #0xB8
  00054	e1a00007	 mov         r0, r7
  00058	eb000000	 bl          GPIOClrBit

; 187  :     GPIOSetMode(hGPIO_I2C, 184, GPIO_DIR_OUTPUT);   //I2C3_CLK, Ray 

  0005c	e3a02000	 mov         r2, #0
  00060	e3a010b8	 mov         r1, #0xB8
  00064	e1a00007	 mov         r0, r7
  00068	eb000000	 bl          GPIOSetMode

; 188  :     GPIOClrBit(hGPIO_I2C,  185);

  0006c	e3a010b9	 mov         r1, #0xB9
  00070	e1a00007	 mov         r0, r7
  00074	eb000000	 bl          GPIOClrBit

; 189  :     GPIOSetMode(hGPIO_I2C, 185, GPIO_DIR_OUTPUT);   //I2C3_SDA, Ray

  00078	e3a02000	 mov         r2, #0
  0007c	e3a010b9	 mov         r1, #0xB9
  00080	e1a00007	 mov         r0, r7
  00084	eb000000	 bl          GPIOSetMode

; 190  :          
; 191  :     //rc = BLSDCardDownload(L"test.txt");
; 192  :     rc = BLSDCardDownload(L"BQ275xFW.txt");

  00088	e59f01f8	 ldr         r0, [pc, #0x1F8]
  0008c	eb000000	 bl          BLSDCardDownload

; 193  : 
; 194  :     while( BLSDCardReadData(sizeof(char), (UCHAR *)&ch) )

  00090	e28d1000	 add         r1, sp, #0
  00094	e3a00001	 mov         r0, #1
  00098	eb000000	 bl          BLSDCardReadData
  0009c	e3500000	 cmp         r0, #0
  000a0	0a00006b	 beq         |$LN54@UpdatingGa|
  000a4	e59f91d0	 ldr         r9, [pc, #0x1D0]
  000a8	e59fa1d4	 ldr         r10, [pc, #0x1D4]
  000ac	e1dd60d4	 ldrsb       r6, [sp, #4]
  000b0	e28db004	 add         r11, sp, #4
  000b4	e28d0004	 add         r0, sp, #4
  000b8	e3a0e064	 mov         lr, #0x64
  000bc		 |$LL44@UpdatingGa|

; 195  :     {  
; 196  :         if( (ch==0x20) || (ch==0x0D) || (ch==0x0A) )    //Space, Carriage Return, Line Feed

  000bc	e1dd10d0	 ldrsb       r1, [sp]
  000c0	e3510020	 cmp         r1, #0x20
  000c4	0a00000b	 beq         |$LN41@UpdatingGa|
  000c8	e351000d	 cmp         r1, #0xD
  000cc	0a000009	 beq         |$LN41@UpdatingGa|
  000d0	e351000a	 cmp         r1, #0xA
  000d4	0a000007	 beq         |$LN41@UpdatingGa|

; 281  :             }             
; 282  :         }else{
; 283  :             if((ch>'z')||(ch<'0')){

  000d8	e351007a	 cmp         r1, #0x7A
  000dc	ca00005c	 bgt         |$LN54@UpdatingGa|
  000e0	e3510030	 cmp         r1, #0x30
  000e4	ba00005a	 blt         |$LN54@UpdatingGa|

; 284  :                 break;
; 285  :             }
; 286  :             str[size++] = ch;      //i = (W¡B:), (1¡B6), (0¡B0), (0¡B3)

  000e8	e7c4100b	 strb        r1, [r4, +r11]
  000ec	e1dd60d4	 ldrsb       r6, [sp, #4]
  000f0	e2844001	 add         r4, r4, #1
  000f4	ea00004f	 b           |$LN4@UpdatingGa|
  000f8		 |$LN41@UpdatingGa|

; 197  :         {
; 198  :             //OALLog(L"Entry SZIE:%d\r\n",size);
; 199  :             if(size >0)

  000f8	e3540000	 cmp         r4, #0
  000fc	da000044	 ble         |$LN40@UpdatingGa|

; 200  :             {            
; 201  :                 switch(size)

  00100	e3540001	 cmp         r4, #1
  00104	0a00003e	 beq         |$LN37@UpdatingGa|
  00108	e3540002	 cmp         r4, #2
  0010c	0a00002e	 beq         |$LN34@UpdatingGa|
  00110	da000029	 ble         |$LN6@UpdatingGa|
  00114	e3540004	 cmp         r4, #4
  00118	ca000027	 bgt         |$LN6@UpdatingGa|

; 228  :                      case 3:
; 229  :                      case 4:
; 230  :                         for(j=0; j<size; j++)

  0011c	e3a02000	 mov         r2, #0
  00120	e3540000	 cmp         r4, #0
  00124	da000039	 ble         |$LN35@UpdatingGa|
  00128	e3a0affa	 mov         r10, #0xFA, 30
  0012c	e3a0b064	 mov         r11, #0x64
  00130		 |$LL25@UpdatingGa|

; 231  :                         {    
; 232  :                             temp = (int)str[j];

  00130	e19230d0	 ldrsb       r3, [r2, +r0]

; 233  : 
; 234  :                             if(temp >= 65)

  00134	e3530041	 cmp         r3, #0x41

; 235  :                                 temp-=55;

  00138	a2433037	 subge       r3, r3, #0x37

; 236  :                             else
; 237  :                                 temp-=48; 

  0013c	b2433030	 sublt       r3, r3, #0x30

; 238  : 
; 239  :                             //OALLog(L"temp:%d\r\n",temp);
; 240  :                          
; 241  :                             if( size==3){

  00140	e3540003	 cmp         r4, #3
  00144	1a000007	 bne         |$LN15@UpdatingGa|

; 242  :                                 if( j==0)

  00148	e3520000	 cmp         r2, #0

; 243  :                                     byte = (temp*100);

  0014c	00050e93	 muleq       r5, r3, lr
  00150	0a000013	 beq         |$LN24@UpdatingGa|

; 244  :                                 else if( j==1)

  00154	e3520001	 cmp         r2, #1

; 245  :                                     byte += (temp*10);

  00158	0a00000c	 beq         |$LN55@UpdatingGa|

; 246  :                                 else if( j==2)

  0015c	e3520002	 cmp         r2, #2
  00160	1a00000f	 bne         |$LN24@UpdatingGa|

; 247  :                                     byte += (temp*1);

  00164	e0855003	 add         r5, r5, r3
  00168		 |$LN15@UpdatingGa|

; 248  :                                 //OALLog(L"byte:%d\r\n",byte);   
; 249  :                             }
; 250  :                             
; 251  :                             if( size==4){

  00168	e3540004	 cmp         r4, #4
  0016c	1a00000c	 bne         |$LN24@UpdatingGa|

; 252  :                                 if(j==0)

  00170	e3520000	 cmp         r2, #0

; 253  :                                     byte = (temp*1000);

  00174	00050a93	 muleq       r5, r3, r10
  00178	0a000009	 beq         |$LN24@UpdatingGa|

; 254  :                                 else if( j==1)

  0017c	e3520001	 cmp         r2, #1

; 255  :                                     byte += (temp*100);

  00180	00255b93	 mlaeq       r5, r3, r11, r5
  00184	0a000006	 beq         |$LN24@UpdatingGa|

; 256  :                                 else if( j==2)

  00188	e3520002	 cmp         r2, #2
  0018c	1a000002	 bne         |$LN9@UpdatingGa|
  00190		 |$LN55@UpdatingGa|

; 257  :                                     byte += (temp*10);

  00190	e0833103	 add         r3, r3, r3, lsl #2
  00194	e0855083	 add         r5, r5, r3, lsl #1
  00198	ea000001	 b           |$LN24@UpdatingGa|
  0019c		 |$LN9@UpdatingGa|

; 258  :                                 else if( j==3)

  0019c	e3520003	 cmp         r2, #3

; 259  :                                     byte += (temp*1);

  001a0	00855003	 addeq       r5, r5, r3
  001a4		 |$LN24@UpdatingGa|
  001a4	e2822001	 add         r2, r2, #1
  001a8	e1520004	 cmp         r2, r4
  001ac	baffffdf	 blt         |$LL25@UpdatingGa|

; 260  :                             }
; 261  :                          }
; 262  :                          break;

  001b0	e59fa0cc	 ldr         r10, [pc, #0xCC]
  001b4	e28db004	 add         r11, sp, #4
  001b8	ea000014	 b           |$LN35@UpdatingGa|
  001bc		 |$LN6@UpdatingGa|

; 263  :                     default:
; 264  :                         OALLog(L"It is not range.\r\n");

  001bc	e59f00bc	 ldr         r0, [pc, #0xBC]
  001c0	eb000000	 bl          NKDbgPrintfW
  001c4	e1dd10d0	 ldrsb       r1, [sp]
  001c8	ea000010	 b           |$LN35@UpdatingGa|
  001cc		 |$LN34@UpdatingGa|

; 210  :                         break;     
; 211  :                     case 2:
; 212  :                         for(j=0; j<size; j++)

  001cc	e3a03000	 mov         r3, #0
  001d0	e28d9004	 add         r9, sp, #4
  001d4		 |$LL33@UpdatingGa|

; 213  :                         {    
; 214  :                             temp = (int)str[j];

  001d4	e19320d9	 ldrsb       r2, [r3, +r9]

; 215  :                             
; 216  :                             if(temp >= 65)

  001d8	e3520041	 cmp         r2, #0x41

; 217  :                                 temp-=55;

  001dc	a2422037	 subge       r2, r2, #0x37

; 218  :                             else
; 219  :                                 temp-=48;                               

  001e0	b2422030	 sublt       r2, r2, #0x30

; 220  :                    
; 221  :                             if(j==0){

  001e4	e3530000	 cmp         r3, #0

; 222  :                                 byte = temp<<4;

  001e8	01a05202	 moveq       r5, r2, lsl #4
  001ec	e2833001	 add         r3, r3, #1

; 223  :                             }else{
; 224  :                                 byte |= temp;

  001f0	11825005	 orrne       r5, r2, r5
  001f4	e3530002	 cmp         r3, #2
  001f8	bafffff5	 blt         |$LL33@UpdatingGa|

; 225  :                             }
; 226  :                          }
; 227  :                          break;

  001fc	e59f9078	 ldr         r9, [pc, #0x78]
  00200	ea000002	 b           |$LN35@UpdatingGa|
  00204		 |$LN37@UpdatingGa|

; 202  :                 {
; 203  :                     case 1:
; 204  :                         byte = (int)(*(str+0));
; 205  : 
; 206  :                         if(byte >= 65)

  00204	e3560041	 cmp         r6, #0x41

; 207  :                             byte-=55;

  00208	a2465037	 subge       r5, r6, #0x37

; 208  :                         else
; 209  :                             byte-=48; 

  0020c	b2465030	 sublt       r5, r6, #0x30
  00210		 |$LN35@UpdatingGa|

; 265  :                  }
; 266  :                 size=0;

  00210	e3a04000	 mov         r4, #0
  00214		 |$LN40@UpdatingGa|

; 267  :             }
; 268  :                 
; 269  :             if( ch!=0x0A){

  00214	e351000a	 cmp         r1, #0xA
  00218	0a000003	 beq         |$LN57@UpdatingGa|

; 270  :                 g_value[count] = byte;

  0021c	e78a5108	 str         r5, [r10, +r8, lsl #2]

; 271  :                 g_total = count++;

  00220	e5898000	 str         r8, [r9]
  00224	e2888001	 add         r8, r8, #1

; 272  :             }
; 273  : 
; 274  :             if( ch==0x0A){

  00228	1a000002	 bne         |$LN4@UpdatingGa|
  0022c		 |$LN57@UpdatingGa|

; 275  :                 /*for(count=0; count<=g_total; count++){
; 276  :                     OALLog(L"%02X ",g_value[count]);
; 277  :                 }
; 278  :                 OALLog(L"\r\n");*/
; 279  :                 InitI2CWithBQ27510FW(hGPIO_I2C);

  0022c	e1a00007	 mov         r0, r7
  00230	eb000000	 bl          InitI2CWithBQ27510FW

; 280  :                 count = 0;

  00234	e3a08000	 mov         r8, #0
  00238		 |$LN4@UpdatingGa|
  00238	e28d1000	 add         r1, sp, #0
  0023c	e3a00001	 mov         r0, #1
  00240	eb000000	 bl          BLSDCardReadData
  00244	e3500000	 cmp         r0, #0
  00248	e28d0004	 add         r0, sp, #4
  0024c	e3a0e064	 mov         lr, #0x64
  00250	1affff99	 bne         |$LL44@UpdatingGa|
  00254		 |$LN54@UpdatingGa|

; 287  :             //OALLog(L"SZIE:%d\r\n",size);
; 288  :         }
; 289  :     }
; 290  :     //I2C_STOP_FW(hGPIO_I2C);
; 291  :     OALLog(L"Update the firmware OK!!");

  00254	e59f001c	 ldr         r0, [pc, #0x1C]
  00258	eb000000	 bl          NKDbgPrintfW

; 292  :     GPIOClose(hGPIO_I2C);

  0025c	e1a00007	 mov         r0, r7
  00260	eb000000	 bl          GPIOClose
  00264		 |$I2COpenFailed$46844|
  00264	e59d0010	 ldr         r0, [sp, #0x10]
  00268	eb000000	 bl          __security_check_cookie

; 293  : I2COpenFailed:
; 294  :     return;  
; 295  : }   

  0026c	e28dd014	 add         sp, sp, #0x14
  00270	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  00274	e12fff1e	 bx          lr
  00278		 |$LN61@UpdatingGa|
  00278		 |$LN62@UpdatingGa|
  00278	00000000	 DCD         |??_C@_1DC@HKGEDAHN@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAe?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?5?$AAO?$AAK?$AA?$CB?$AA?$CB?$AA?$AA@|
  0027c		 |$LN63@UpdatingGa|
  0027c	00000000	 DCD         |g_total|
  00280		 |$LN64@UpdatingGa|
  00280	00000000	 DCD         |??_C@_1CG@HLIGJHI@?$AAI?$AAt?$AA?5?$AAi?$AAs?$AA?5?$AAn?$AAo?$AAt?$AA?5?$AAr?$AAa?$AAn?$AAg?$AAe?$AA?4?$AA?$AN?$AA?6?$AA?$AA@|
  00284		 |$LN65@UpdatingGa|
  00284	00000000	 DCD         |g_value|
  00288		 |$LN66@UpdatingGa|
  00288	00000000	 DCD         |??_C@_1BK@PNAHHDKC@?$AAB?$AAQ?$AA2?$AA7?$AA5?$AAx?$AAF?$AAW?$AA?4?$AAt?$AAx?$AAt?$AA?$AA@|
  0028c		 |$LN67@UpdatingGa|
  0028c	00000000	 DCD         |??_C@_1GC@GBHIDOHO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAB?$AAQ?$AA2?$AA7?$AA5?$AA1?$AA0?$AA_?$AAi?$AAn?$AAi?$AAt?$AA?5?$AA?9?$AA?5?$AAO?$AAp?$AAe?$AAn?$AA?5?$AAI?$AA2?$AAC?$AA?5?$AAd@|
  00290		 |$LN68@UpdatingGa|
  00290	00000000	 DCD         |??_C@_1DG@FGMOGA@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAt?$AAh?$AAe?$AA?5?$AAf?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?4?$AA?4?$AA?4?$AA?$AN?$AA?6?$AA?$AA@|
  00294		 |$LN69@UpdatingGa|
  00294	00000000	 DCD         |??_C@_1DK@JOLFNFNF@?$AAU?$AAp?$AAd?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAF?$AAu?$AAe?$AAl?$AA?5?$AAG?$AAa?$AAu?$AAg?$AAe?$AA?5?$AAF?$AAi?$AAr?$AAm?$AAw?$AAa?$AAr?$AAe?$AA?$AA@|
  00298		 |$LN70@UpdatingGa|
  00298	00000000	 DCD         |__security_cookie|
  0029c		 |$M47057|

			 ENDP  ; |UpdatingGaugeFW|

	END
